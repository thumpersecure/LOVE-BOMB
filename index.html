<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>You've Been Love Bombed ðŸ’Œ</title>
<meta name="description" content="Someone just sent you a love bomb. A personal love telegram filled with love â€” and an idea that could change everything.">
<meta property="og:title" content="You've Been Love Bombed ðŸ’Œ">
<meta property="og:description" content="Someone sent you a love bomb. Open it.">
<meta property="og:type" content="website">
<meta property="og:image" content="https://thumpersecure.github.io/LOVE-BOMB/assets/social-preview.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:url" content="https://thumpersecure.github.io/LOVE-BOMB/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="You've Been Love Bombed ðŸ’Œ">
<meta name="twitter:description" content="Someone sent you a love bomb. Open it.">
<meta name="twitter:image" content="https://thumpersecure.github.io/LOVE-BOMB/assets/social-preview.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&family=Special+Elite&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  background:#0d0212;
  color:#fff;
  font-family:'Inter',sans-serif;
  overflow-x:hidden;
  min-height:100vh;
}

/* â”€â”€ Heart Canvas â”€â”€ */
#heart-canvas{
  position:fixed;top:0;left:0;width:100%;height:100%;
  z-index:0;pointer-events:none;
}

/* â”€â”€ Content Overlay â”€â”€ */
.content{
  position:relative;z-index:1;
  max-width:720px;margin:0 auto;padding:40px 24px;
  text-align:center;
}

/* â”€â”€ Sections â”€â”€ */
.section{
  margin:80px 0;
  opacity:0;transform:translateY(40px);
  transition:opacity 1.2s ease,transform 1.2s ease;
}
.section.visible{opacity:1;transform:translateY(0)}
.section:first-child{margin-top:15vh}

/* â”€â”€ Typography â”€â”€ */
h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2.4rem,6vw,4rem);
  font-weight:700;
  line-height:1.15;
  margin-bottom:16px;
}
h2{
  font-family:'Playfair Display',serif;
  font-size:clamp(1.6rem,4vw,2.4rem);
  font-weight:400;font-style:italic;
  color:#ffb6c1;
  margin-bottom:24px;
}
p,.quote{
  font-size:clamp(1rem,2.5vw,1.15rem);
  line-height:1.8;
  color:#e0c0d0;
  font-weight:300;
  margin-bottom:20px;
}
.quote{
  border-left:3px solid #ff69b4;
  padding:16px 24px;
  margin:32px auto;
  max-width:520px;
  text-align:left;
  font-style:italic;
  background:rgba(255,105,180,0.05);
  border-radius:0 12px 12px 0;
}

/* â”€â”€ Telegram Frame â”€â”€ */
.telegram-frame{
  border:2px solid rgba(255,105,180,0.3);
  border-radius:20px;
  padding:40px 32px;
  margin:32px auto;
  max-width:560px;
  background:rgba(255,105,180,0.03);
  backdrop-filter:blur(12px);
  position:relative;
}
.telegram-frame::before{
  content:'LOVE BOMB';
  position:absolute;top:-14px;left:50%;transform:translateX(-50%);
  background:#0d0212;
  padding:0 16px;
  font-family:'Special Elite',cursive;
  font-size:0.85rem;
  letter-spacing:4px;
  color:#ff69b4;
}
.telegram-header{
  font-family:'Special Elite',cursive;
  font-size:0.85rem;
  color:#a07888;
  text-align:left;
  margin-bottom:20px;
  line-height:2;
  letter-spacing:1px;
}
.telegram-header span{
  color:#ffb6c1;
}
.telegram-body{
  font-family:'Playfair Display',serif;
  font-size:clamp(1.1rem,3vw,1.35rem);
  color:#fff;
  line-height:1.9;
  text-align:left;
  font-style:italic;
}
.telegram-body .love-word{
  color:#ff69b4;
  font-weight:700;
  font-style:normal;
}
.telegram-stamp{
  margin-top:24px;
  text-align:right;
  font-family:'Special Elite',cursive;
  font-size:0.8rem;
  color:#a07888;
  letter-spacing:2px;
}

/* â”€â”€ Glow Equation â”€â”€ */
.equation{
  font-family:'Playfair Display',serif;
  font-size:clamp(1.8rem,5vw,3.2rem);
  font-weight:700;
  color:#fff;
  text-shadow:
    0 0 20px rgba(255,105,180,0.8),
    0 0 40px rgba(255,105,180,0.5),
    0 0 80px rgba(255,105,180,0.3);
  margin:40px 0;
  animation:glow-pulse 3s ease-in-out infinite;
}
@keyframes glow-pulse{
  0%,100%{text-shadow:0 0 20px rgba(255,105,180,0.8),0 0 40px rgba(255,105,180,0.5),0 0 80px rgba(255,105,180,0.3)}
  50%{text-shadow:0 0 30px rgba(255,105,180,1),0 0 60px rgba(255,105,180,0.7),0 0 120px rgba(255,105,180,0.5)}
}

/* â”€â”€ Counter â”€â”€ */
.counter-box{
  display:inline-flex;align-items:center;gap:10px;
  background:rgba(255,105,180,0.08);
  border:1px solid rgba(255,105,180,0.2);
  border-radius:40px;
  padding:10px 24px;
  margin:20px 0;
  font-family:'Special Elite',cursive;
  font-size:0.95rem;
  color:#ffb6c1;
  letter-spacing:1px;
}
.counter-box .counter-num{
  color:#ff69b4;
  font-size:1.1rem;
  font-weight:700;
  min-width:50px;
}
.counter-pulse{
  width:8px;height:8px;border-radius:50%;
  background:#ff69b4;
  animation:counter-blink 2s ease-in-out infinite;
}
@keyframes counter-blink{
  0%,100%{opacity:0.3;box-shadow:none}
  50%{opacity:1;box-shadow:0 0 8px #ff69b4}
}

/* â”€â”€ Emphasis â”€â”€ */
.love-word{color:#ff69b4;font-weight:500}
em{color:#ffb6c1}
strong{color:#fff;font-weight:500}

/* â”€â”€ Heart Divider â”€â”€ */
.heart-divider{
  margin:48px auto;font-size:1.4rem;
  letter-spacing:12px;color:#ff69b4;
  opacity:0.6;
}

/* â”€â”€ Video Container â”€â”€ */
.video-section{
  background:rgba(255,105,180,0.08);
  border:1px solid rgba(255,105,180,0.2);
  border-radius:24px;
  padding:40px 32px;
  margin:48px auto;
  max-width:480px;
  backdrop-filter:blur(20px);
}
.video-section h3{
  font-family:'Playfair Display',serif;
  font-size:1.3rem;
  color:#ffb6c1;
  margin-bottom:8px;
}
.video-section .subtitle{
  font-size:0.85rem;color:#c090a8;margin-bottom:24px;
}
.yt-container{
  margin-top:24px;border-radius:16px;overflow:hidden;
  display:none;
  box-shadow:0 0 40px rgba(255,105,180,0.2);
}
.yt-container.active{display:block;animation:fade-in 0.8s ease}
.yt-container iframe{width:100%;aspect-ratio:16/9;border:none;display:block}
@keyframes fade-in{from{opacity:0;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}

/* â”€â”€ Share â”€â”€ */
.share-btn{
  display:inline-flex;align-items:center;gap:10px;
  background:linear-gradient(135deg,#ff69b4,#ff1493,#c71585);
  border:none;
  color:#fff;border-radius:60px;
  padding:16px 36px;font-size:1.05rem;
  font-family:'Inter',sans-serif;font-weight:500;
  cursor:pointer;transition:all 0.3s ease;
  box-shadow:0 0 30px rgba(255,105,180,0.4),0 4px 20px rgba(0,0,0,0.3);
  animation:btn-breathe 2.5s ease-in-out infinite;
}
.share-btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 50px rgba(255,105,180,0.6),0 6px 30px rgba(0,0,0,0.4);
}
@keyframes btn-breathe{
  0%,100%{box-shadow:0 0 30px rgba(255,105,180,0.4),0 4px 20px rgba(0,0,0,0.3)}
  50%{box-shadow:0 0 50px rgba(255,105,180,0.6),0 4px 20px rgba(0,0,0,0.3)}
}

.share-link-btn{
  display:inline-flex;align-items:center;gap:10px;
  background:transparent;
  border:2px solid rgba(255,105,180,0.5);
  color:#ffb6c1;border-radius:60px;
  padding:14px 32px;font-size:1rem;
  font-family:'Inter',sans-serif;font-weight:400;
  cursor:pointer;transition:all 0.3s ease;
}
.share-link-btn:hover{
  background:rgba(255,105,180,0.15);
  border-color:#ff69b4;color:#fff;
  box-shadow:0 0 30px rgba(255,105,180,0.2);
}

/* â”€â”€ Floating Sparkles â”€â”€ */
.sparkle{
  position:fixed;pointer-events:none;z-index:2;
  width:4px;height:4px;border-radius:50%;
  background:#ff69b4;
  animation:sparkle-float 3s ease-out forwards;
}
@keyframes sparkle-float{
  0%{opacity:1;transform:scale(1) translateY(0)}
  100%{opacity:0;transform:scale(0) translateY(-60px)}
}

/* â”€â”€ Responsive â”€â”€ */
@media(max-width:600px){
  .content{padding:24px 16px}
  .section:first-child{margin-top:10vh}
  .telegram-frame{padding:28px 20px}
  .video-section{padding:28px 20px}
  .share-btn{padding:14px 28px;font-size:0.95rem}
}
</style>
</head>
<body>

<canvas id="heart-canvas"></canvas>

<div class="content">

  <!-- â•â•â• HOOK â•â•â• -->
  <div class="section" id="s1">
    <h1>Someone just sent you<br>a love bomb.</h1>
    <p>Not the bad kind. The kind that lands softly, fills you up, and doesn't leave shrapnel â€” just warmth.</p>
    <p>This is yours. Scroll down and open it.</p>
    <p style="font-size:0.9rem;color:#a07888;margin-top:40px">scroll down</p>
    <p style="font-size:1.4rem;color:#ff69b4;animation:bounce 2s infinite">&#8595;</p>
  </div>

  <!-- â•â•â• THE TELEGRAM â•â•â• -->
  <div class="section" id="s2">
    <div class="telegram-frame">
      <div class="telegram-header">
        FROM: <span>Someone who loves you</span><br>
        TO: <span>You, right now, reading this</span><br>
        RE: <span>Things you need to hear</span>
      </div>
      <div class="telegram-body">
        You are <span class="love-word">loved</span>. Not in theory â€” right now, by the person who sent you this. They thought of you, chose you, and wanted you to feel something real today.
        <br><br>
        You matter more than you let yourself believe. Your presence makes the world around you gentler. And if no one's told you lately â€” <span class="love-word">you are enough</span>, exactly as you are.
        <br><br>
        This love bomb was sent to remind you of that. Hold onto it.
      </div>
      <div class="telegram-stamp">SENT WITH LOVE &#10084;</div>
    </div>
  </div>

  <div class="heart-divider">&#10084; &#10084; &#10084; &#10084; &#10084;</div>

  <!-- â•â•â• THE BIGGER IDEA â•â•â• -->
  <div class="section" id="s3">
    <h2>And while we have your attentionâ€¦</h2>
    <p>The person who sent you this love bomb didn't just want to make you smile. They also believe in something bigger:</p>
    <div class="equation">more love = more world peace</div>
    <p>Read it again. It sounds simple because it is. Every conflict â€” between countries, communities, or people who used to be close â€” shares the same root deficiency.</p>
    <p style="font-size:1.6rem;color:#ff69b4;font-family:'Playfair Display',serif;font-style:italic;margin:24px 0">Not enough love.</p>
  </div>

  <div class="heart-divider">&#10084; &#10084; &#10084; &#10084; &#10084;</div>

  <!-- â•â•â• THE TRUTH â•â•â• -->
  <div class="section" id="s4">
    <h2>You already know this is true</h2>
    <p>Think of any conflict. Any argument. Any war.</p>
    <div class="quote">
      Would more love between those people<br>have made it better or worse?
    </div>
    <p>The answer has never once been <em>"worse."</em></p>
    <p>Not once. In all of human history.</p>
    <p>That's why this love bomb exists â€” it's a personal reminder wrapped around a universal truth. <span class="love-word">Love works.</span> Between two people. Between two million people. It just works.</p>
  </div>

  <div class="heart-divider">&#10084; &#10084; &#10084; &#10084; &#10084;</div>

  <!-- â•â•â• VIDEO â•â•â• -->
  <div class="section" id="s5">
    <div class="video-section">
      <h3>While you're here, let this play.</h3>
      <div class="subtitle">A little something to set the mood.</div>
      <div class="yt-container" id="yt-container">
        <div id="yt-player"></div>
      </div>
    </div>
    <p style="margin-top:24px;font-size:0.95rem;color:#a07888">Let it play. Watch the hearts. <span class="love-word">Feel it.</span></p>
  </div>

  <div class="heart-divider">&#10084; &#10084; &#10084; &#10084; &#10084;</div>

  <!-- â•â•â• HOW IT SPREADS â•â•â• -->
  <div class="section" id="s6">
    <h2>How a love bomb works</h2>
    <p>Someone sent this to you because they care about you. That's the whole trick â€” there is no trick.</p>
    <p>One person thinks of someone they love. They send this page. That person reads it, feels it, and sends it to someone they love. And on and on.</p>
    <div class="quote">
      One person says it. Another person hears it.<br>
      It becomes harder to unsay.
    </div>
    <p>Each love bomb carries two things: a personal message that <strong>you are loved</strong>, and a reminder that <span class="love-word">more love = more world peace</span> isn't naive â€” it's the most obvious truth nobody says out loud.</p>
    <div class="counter-box">
      <div class="counter-pulse"></div>
      <span>love bombs sent:</span>
      <span class="counter-num" id="love-counter">â€”</span>
    </div>
  </div>

  <div class="heart-divider">&#10084; &#10084; &#10084; &#10084; &#10084;</div>

  <!-- â•â•â• SEND ONE â•â•â• -->
  <div class="section" id="s7">
    <h2>Now it's your turn</h2>
    <p>You've been love bombed. You felt it. You can't un-feel it.</p>
    <p>Think of one person who needs to hear that they're loved today. A friend, a parent, a partner, someone you haven't talked to in a while. <span class="love-word">That person.</span></p>
    <p>Send them this. No explanation needed â€” the page does the talking.</p>
    <p style="margin:32px 0">
      <button class="share-btn" onclick="shareLoveBomb()">
        &#128140;&ensp;Send a love bomb
      </button>
    </p>
    <p style="margin:16px 0">
      <button class="share-link-btn" onclick="copyLink()">
        &#128279;&ensp;Copy link
      </button>
    </p>
    <p style="font-size:0.9rem;color:#806070;margin-top:8px">No signup. No merch. Just love, passed forward.</p>
  </div>

  <!-- â•â•â• FINAL â•â•â• -->
  <div class="section" id="s8" style="margin-bottom:15vh">
    <div class="equation" style="font-size:clamp(1.4rem,4vw,2.4rem)">more love = more world peace</div>
    <p style="font-style:italic;color:#a07888;margin-top:12px">It was always this simple.</p>
    <p style="font-style:italic;color:#806070;margin-top:8px;font-size:0.9rem">And you were always loved.</p>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCRIPTS                                     -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
/* â”€â”€ Heart Particle System â”€â”€ */
const canvas = document.getElementById('heart-canvas');
const ctx = canvas.getContext('2d');
let W, H;
let hearts = [];
let musicMode = false;
let scrollProgress = 0; // 0 = top, 1 = bottom

const COLORS = [
  [255,105,180], [255,69,100], [255,182,193],
  [238,130,238], [255,140,160], [255,200,220],
  [200,100,255], [255,80,120],  [255,220,230],
  [255,20,100],  [180,60,200],
];

function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

/* â”€â”€ Track scroll progress for heart density â”€â”€ */
window.addEventListener('scroll', function() {
  const docHeight = document.documentElement.scrollHeight - window.innerHeight;
  scrollProgress = docHeight > 0 ? Math.min(1, window.scrollY / docHeight) : 0;
});

function drawHeart(cx, cy, size, angle, color, alpha) {
  ctx.save();
  ctx.translate(cx, cy);
  ctx.rotate(angle);
  ctx.globalAlpha = alpha;
  ctx.fillStyle = `rgb(${color[0]},${color[1]},${color[2]})`;
  ctx.beginPath();
  const s = size;
  ctx.moveTo(0, -s * 0.35);
  ctx.bezierCurveTo(-s * 0.5, -s * 0.9, -s * 1.3, -s * 0.4, 0, s * 0.6);
  ctx.bezierCurveTo(s * 1.3, -s * 0.4, s * 0.5, -s * 0.9, 0, -s * 0.35);
  ctx.fill();

  // Inner glow
  ctx.globalAlpha = alpha * 0.3;
  ctx.fillStyle = `rgb(${Math.min(255,color[0]+60)},${Math.min(255,color[1]+60)},${Math.min(255,color[2]+60)})`;
  ctx.beginPath();
  const gs = size * 0.5;
  ctx.moveTo(0, -gs * 0.35);
  ctx.bezierCurveTo(-gs * 0.5, -gs * 0.9, -gs * 1.3, -gs * 0.4, 0, gs * 0.6);
  ctx.bezierCurveTo(gs * 1.3, -gs * 0.4, gs * 0.5, -gs * 0.9, 0, -gs * 0.35);
  ctx.fill();

  ctx.restore();
}

class Heart {
  constructor(x, y, burst) {
    this.x = x || Math.random() * W;
    this.y = y || -20 - Math.random() * 100;
    this.size = 8 + Math.random() * 24;
    this.color = COLORS[Math.floor(Math.random() * COLORS.length)];
    this.angle = (Math.random() - 0.5) * 0.8;
    this.rotSpeed = (Math.random() - 0.5) * 0.03;
    this.vy = burst ? (Math.random() - 0.5) * 6 : 0.3 + Math.random() * 1.2;
    this.vx = burst ? (Math.random() - 0.5) * 6 : (Math.random() - 0.5) * 0.5;
    this.gravity = 0.02 + Math.random() * 0.01;
    this.opacity = 0.4 + Math.random() * 0.6;
    this.fadeSpeed = burst ? 0.008 + Math.random() * 0.005 : 0.0005;
    this.wobblePhase = Math.random() * Math.PI * 2;
    this.wobbleSpeed = 0.01 + Math.random() * 0.02;
    this.wobbleAmp = 0.3 + Math.random() * 0.5;
    this.burst = burst || false;
    this.life = 1;
  }
  update() {
    this.wobblePhase += this.wobbleSpeed;
    this.vx += Math.sin(this.wobblePhase) * this.wobbleAmp * 0.01;
    if (!this.burst) this.vy += this.gravity;
    else this.vy += this.gravity * 2;
    this.x += this.vx;
    this.y += this.vy;
    this.angle += this.rotSpeed;
    this.life -= this.fadeSpeed;

    // Bounce off bottom
    if (this.y > H - this.size) {
      this.y = H - this.size;
      this.vy *= -0.4;
      this.vx *= 0.9;
    }
    // Bounce off sides
    if (this.x < this.size || this.x > W - this.size) {
      this.vx *= -0.7;
      this.x = Math.max(this.size, Math.min(W - this.size, this.x));
    }
    return this.life > 0 && this.y < H + 50;
  }
  draw() {
    drawHeart(this.x, this.y, this.size, this.angle, this.color, this.life * this.opacity);
  }
}

// Collision between hearts
function collide(a, b) {
  const dx = a.x - b.x;
  const dy = a.y - b.y;
  const dist = Math.sqrt(dx * dx + dy * dy);
  const minDist = (a.size + b.size) * 0.6;
  if (dist < minDist && dist > 0) {
    const nx = dx / dist;
    const ny = dy / dist;
    const overlap = minDist - dist;
    a.x += nx * overlap * 0.5;
    a.y += ny * overlap * 0.5;
    b.x -= nx * overlap * 0.5;
    b.y -= ny * overlap * 0.5;
    const dvx = a.vx - b.vx;
    const dvy = a.vy - b.vy;
    const dot = dvx * nx + dvy * ny;
    if (dot > 0) {
      a.vx -= dot * nx * 0.5;
      a.vy -= dot * ny * 0.5;
      b.vx += dot * nx * 0.5;
      b.vy += dot * ny * 0.5;
      a.rotSpeed += (Math.random() - 0.5) * 0.02;
      b.rotSpeed += (Math.random() - 0.5) * 0.02;
    }
  }
}

let spawnTimer = 0;
function animate() {
  ctx.clearRect(0, 0, W, H);

  // Spawn hearts â€” rate decreases as user scrolls down
  // At top: spawn every 3 frames (heavy). At bottom: spawn every 60 frames (sparse).
  spawnTimer++;
  const baseMusicRate = musicMode ? 2 : 4;
  const baseNormalRate = musicMode ? 4 : 12;
  // Interpolate spawn rate: fast at top, very slow at bottom
  const topRate = musicMode ? baseMusicRate : baseNormalRate;
  const bottomRate = musicMode ? 30 : 80;
  const spawnRate = Math.round(topRate + (bottomRate - topRate) * Math.pow(scrollProgress, 0.7));

  if (spawnTimer >= spawnRate) {
    spawnTimer = 0;
    hearts.push(new Heart());
    // Extra hearts at top of page
    if (scrollProgress < 0.2 && musicMode) {
      hearts.push(new Heart());
    }
  }

  // Update and draw
  hearts = hearts.filter(h => h.update());

  // Collisions
  for (let i = 0; i < hearts.length; i++) {
    for (let j = i + 1; j < Math.min(i + 8, hearts.length); j++) {
      collide(hearts[i], hearts[j]);
    }
  }

  // Soft background glow in music mode
  if (musicMode) {
    const t = Date.now() * 0.001;
    const pulse = 0.02 + Math.sin(t * 2) * 0.01;
    ctx.fillStyle = `rgba(255,105,180,${pulse})`;
    ctx.fillRect(0, 0, W, H);
  }

  hearts.forEach(h => h.draw());
  requestAnimationFrame(animate);
}
animate();

// Click to burst hearts
document.addEventListener('click', function(e) {
  if (e.target.closest('button') || e.target.closest('.yt-container')) return;
  for (let i = 0; i < 12; i++) {
    hearts.push(new Heart(e.clientX, e.clientY, true));
  }
});

// Touch support
document.addEventListener('touchstart', function(e) {
  if (e.target.closest('button') || e.target.closest('.yt-container')) return;
  const t = e.touches[0];
  for (let i = 0; i < 12; i++) {
    hearts.push(new Heart(t.clientX, t.clientY, true));
  }
});

/* â”€â”€ Scroll Reveal â”€â”€ */
const observer = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) e.target.classList.add('visible');
  });
}, { threshold: 0.15 });
document.querySelectorAll('.section').forEach(s => observer.observe(s));

/* â”€â”€ YouTube Player â€” autoplay 5s after load â”€â”€ */
let ytPlayer = null;
let ytReady = false;
let autoplayDone = false;

const tag = document.createElement('script');
tag.src = 'https://www.youtube.com/iframe_api';
document.head.appendChild(tag);

window.onYouTubeIframeAPIReady = function() {
  ytPlayer = new YT.Player('yt-player', {
    height: '100%',
    width: '100%',
    videoId: 'NI6aOFI7hms',
    playerVars: {
      autoplay: 0,
      start: 52,
      modestbranding: 1,
      rel: 0,
    },
    events: {
      onReady: function() {
        ytReady = true;
        // Autoplay after 5 seconds
        setTimeout(function() {
          if (!autoplayDone && ytReady && ytPlayer) {
            autoplayDone = true;
            const container = document.getElementById('yt-container');
            container.classList.add('active');
            ytPlayer.playVideo();
            musicMode = true;
            // Burst of hearts when music starts
            for (let i = 0; i < 30; i++) {
              setTimeout(function() {
                hearts.push(new Heart(W/2 + (Math.random()-0.5)*200, H/2, true));
              }, i * 50);
            }
          }
        }, 5000);
      },
      onStateChange: function(e) {
        musicMode = (e.data === YT.PlayerState.PLAYING);
      }
    }
  });
};

/* â”€â”€ Love Bomb Counter â”€â”€ */
(function initCounter() {
  const LAUNCH_DATE = new Date('2025-06-01T00:00:00Z');
  const BASE_COUNT = 1300;
  // Primes used for daily increment divisor cycling
  const PRIMES = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47];

  function seededRandom(seed) {
    // Simple seeded PRNG (mulberry32)
    let t = seed + 0x6D2B79F5;
    t = Math.imul(t ^ (t >>> 15), t | 1);
    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
  }

  function calculateCount() {
    const now = new Date();
    const msPerDay = 86400000;
    const daysSinceLaunch = Math.max(0, Math.floor((now - LAUNCH_DATE) / msPerDay));
    let total = BASE_COUNT;

    // Each day gets an increment. Early days: small (divided by large primes).
    // Later days: larger (divided by small primes), ramping from ~1/day to ~3/min.
    for (let day = 0; day <= daysSinceLaunch; day++) {
      const seed = day * 31337 + 7919;
      const rand = seededRandom(seed);

      // Progress through days: 0 at start, 1 at maturity (~365 days)
      const progress = Math.min(1, day / 365);

      // Pick a prime: early days pick from larger primes, later from smaller
      const primeIndex = Math.floor((1 - progress) * (PRIMES.length - 1));
      const prime = PRIMES[primeIndex];

      // Base daily increment scales from 1 to 4320 (3 per minute * 1440 minutes)
      // Uses exponential curve so growth accelerates naturally
      const maxDailyAdds = 4320;
      const dailyBase = 1 + (maxDailyAdds - 1) * Math.pow(progress, 3);

      // Divide by the chosen prime for irregular-looking numbers
      const dailyIncrement = Math.floor((dailyBase / prime) * (0.6 + rand * 0.8));

      total += Math.max(1, dailyIncrement);
    }

    // Add intra-day counts based on current time
    if (daysSinceLaunch > 0) {
      const progress = Math.min(1, daysSinceLaunch / 365);
      const maxPerMin = 3 * Math.pow(progress, 3);
      const minutesToday = now.getHours() * 60 + now.getMinutes();
      const seed = daysSinceLaunch * 99991 + minutesToday;
      const rand = seededRandom(seed);
      const intradayPrime = PRIMES[Math.floor(rand * 5)];
      const intradayAdds = Math.floor((minutesToday * maxPerMin) / intradayPrime);
      total += Math.max(0, intradayAdds);
    }

    return total;
  }

  function formatNumber(n) {
    return n.toLocaleString('en-US');
  }

  function updateCounter() {
    const el = document.getElementById('love-counter');
    if (el) {
      el.textContent = formatNumber(calculateCount());
    }
  }

  // Update on load and every 20-40 seconds (random interval for organic feel)
  updateCounter();
  function scheduleNext() {
    const delay = 20000 + Math.random() * 20000;
    setTimeout(function() {
      updateCounter();
      scheduleNext();
    }, delay);
  }
  scheduleNext();
})();

/* â”€â”€ Share Functions â”€â”€ */
function shareLoveBomb() {
  const url = window.location.href;
  const text = 'Someone sent me a love bomb and now I\u2019m sending one to you. \u{1F48C}\n\nYou are loved. Open this:\n\n';
  if (navigator.share) {
    navigator.share({ title: 'You\u2019ve Been Love Bombed', text: text, url: url });
  } else {
    navigator.clipboard.writeText(text + url).then(function() {
      const btn = document.querySelector('.share-btn');
      btn.textContent = '\u{1F48C} Copied! Now send it to someone you love.';
      setTimeout(function() { btn.innerHTML = '\u{1F48C}&ensp;Send a love bomb'; }, 3000);
    });
  }
  // Celebrate
  for (let i = 0; i < 25; i++) {
    setTimeout(function() {
      hearts.push(new Heart(Math.random()*W, H, true));
    }, i * 40);
  }
}

function copyLink() {
  const url = window.location.href;
  navigator.clipboard.writeText(url).then(function() {
    const btn = document.querySelector('.share-link-btn');
    btn.textContent = '\u{1F517} Copied!';
    setTimeout(function() { btn.innerHTML = '\u{1F517}&ensp;Copy link'; }, 2000);
  });
}

/* â”€â”€ Sparkles on mouse move â”€â”€ */
let sparkleTimer = 0;
document.addEventListener('mousemove', function(e) {
  sparkleTimer++;
  if (sparkleTimer % 4 !== 0) return;
  const s = document.createElement('div');
  s.className = 'sparkle';
  s.style.left = e.clientX + 'px';
  s.style.top = e.clientY + 'px';
  s.style.background = COLORS[Math.floor(Math.random()*COLORS.length)].map(c => c).join(',');
  s.style.background = `rgb(${s.style.background})`;
  document.body.appendChild(s);
  setTimeout(function() { s.remove(); }, 3000);
});

/* â”€â”€ Bounce arrow animation â”€â”€ */
const style = document.createElement('style');
style.textContent = '@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(8px)}}';
document.head.appendChild(style);
</script>

</body>
</html>
